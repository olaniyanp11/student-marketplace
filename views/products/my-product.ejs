<%- include('../partials/header') %>

<h1 class="text-3xl font-bold text-center mt-10">My Products</h1>

<div class="px-6 py-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
  <% products.forEach(p => { %>
    <div class="bg-[#141414] text-white rounded-lg shadow border border-[#1e1e1e] overflow-hidden">
      <img src="<%= p.image %>" class="w-full h-40 object-cover">
      <div class="p-4">
        <h2 class="font-semibold truncate"><%= p.title %></h2>
        <p class="text-sm text-gray-400 mb-2">₦<%= p.price %></p>
        <h2 class="font-semibold text-gray-400 truncate mb-2">Quantity: <%= p.quantity %></h2>

        <div class="flex gap-2">
          <form action="/products/<%= p._id %>/delete" method="POST" onsubmit="return confirm('Delete product?')">
            <button class="bg-red-600 px-3 py-1 rounded text-sm">Delete</button>
          </form>

          <a href="/products/<%= p._id %>/edit" class="bg-blue-600 px-3 py-1 rounded text-sm hover:bg-blue-700">
            ✏️ Edit
          </a>
        </div>
      </div>
    </div>
  <% }) %>

  <% if (products.length === 0) { %>
    <p class="col-span-3 text-center text-gray-400">You haven't listed anything.</p>
  <% } %>
</div>

<%- include('../partials/footer') %>
